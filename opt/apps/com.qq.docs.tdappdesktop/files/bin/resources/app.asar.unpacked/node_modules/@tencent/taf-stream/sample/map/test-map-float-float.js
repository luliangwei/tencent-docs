var TafStream = require("../../libjce");

//类型定义示例
var m = new TafStream.Map(TafStream.Int64, TafStream.Int64);
m.put(11, 123423);
m.put(22, 234214);

//JCE编码示例
var os = new TafStream.JceOutputStream();
os.writeMap(0, m);

//JCE解码示例
var data = os.getBinBuffer().toNodeBuffer(); //这里得到一个NodeJS内建的Buffer类型的变量

var is   = new TafStream.JceInputStream(new TafStream.BinBuffer(data));
var tmp  = is.readMap(0, true, TafStream.Map(TafStream.Int64, TafStream.Int64));
tmp.forEach(function (key, value){
    console.log("key:", key, typeof key,"value:", value,typeof value)
});
