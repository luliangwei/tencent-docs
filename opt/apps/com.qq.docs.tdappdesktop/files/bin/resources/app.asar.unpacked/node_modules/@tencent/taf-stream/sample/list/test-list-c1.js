var Taf = require("../../libjce");

var list = new Taf.List(Taf.Map(Taf.String, Taf.String));
for (var i = 0; i < 10; i++) {
    var map = new Taf.Map(Taf.String, Taf.String);
    for (var ii = 0; ii < 2; ii++) {
        var key = "KEY-" + i.toString() + "-" + ii.toString();
        var val = "VAL-" + i.toString() + "-" + ii.toString();

        map.insert(key, val);
    }

    list.push(map);
}

var ost = new Taf.JceOutputStream();
ost.writeList(0, list);

var ist = new Taf.JceInputStream(ost.getBinBuffer());
var tmp = ist.readList(0, true, Taf.List(Taf.Map(Taf.String, Taf.String)));

tmp.forEach(function (value, index){
    console.log("INDEX:", index);
    value.forEach(function (key, value){
        console.log("    ", key, value);
    });
});
