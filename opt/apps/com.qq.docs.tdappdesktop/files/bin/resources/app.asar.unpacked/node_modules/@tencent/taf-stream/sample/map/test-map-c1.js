var Taf   = require("../../libjce");
var Test  = require("../jce/StatFJce.js").Test;

var StatMicMsgBody1 = new Test.StatMicMsgBody();
StatMicMsgBody1.count           = 360;
StatMicMsgBody1.timeoutCount    = 2;
StatMicMsgBody1.execCount       = 3;
StatMicMsgBody1.totalRspTime    = 476249;
StatMicMsgBody1.maxRspTime      = 2999;
StatMicMsgBody1.minRspTime      = 4;

var StatMicMsgBody2 = new Test.StatMicMsgBody();
StatMicMsgBody2.count           = 36632122;
StatMicMsgBody2.timeoutCount    = 223;
StatMicMsgBody2.execCount       = 3000;
StatMicMsgBody2.totalRspTime    = 4000049;
StatMicMsgBody2.maxRspTime      = 299900;
StatMicMsgBody2.minRspTime      = 400;

var msg = new Taf.Map(Taf.String, Test.StatMicMsgBody);
msg.put("111111", StatMicMsgBody1);
msg.put("222222", StatMicMsgBody2);

var os = new Taf.JceOutputStream();
os.writeMap(1, msg);

var tt = new Taf.JceInputStream(os.getBinBuffer());
var ta = tt.readMap(1, true, Taf.Map(Taf.String, Test.StatMicMsgBody));

ta.forEach(function (key, value) {
    console.log("KEY:", key, "VALUE.totalRspTime", value.totalRspTime);
});
