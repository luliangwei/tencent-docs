var TafStream = require("../../libjce");

//类型定义示例
var m = new TafStream.Map(TafStream.Float, TafStream.Float);
m.put(1, 5.54);
m.put(2, 6.65);

//JCE编码示例
var os = new TafStream.JceOutputStream();
os.writeMap(0, m);

//JCE解码示例
var data = os.getBinBuffer().toNodeBuffer(); //这里得到一个NodeJS内建的Buffer类型的变量

var is   = new TafStream.JceInputStream(new TafStream.BinBuffer(data));
var tmp  = is.readMap(0, true, TafStream.Map(TafStream.Float, TafStream.Float));
tmp.forEach(function (key, value){
    console.log("key:", typeof  key, "value:",typeof value)
});