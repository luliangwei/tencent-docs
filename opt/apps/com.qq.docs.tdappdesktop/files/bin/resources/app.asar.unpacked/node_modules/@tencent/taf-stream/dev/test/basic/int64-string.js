/**
 * Created by czzou on 2017/9/6.
 */
var TafStream = require("../../../");

var JS_MAX = 9007199254740991;
var INT64_MAX = '9223372036854775807';
var INT64_MIN = '-9223372036854775808';

console.log(' ===== test int64 number =====');

int64Number(JS_MAX);
int64Number(INT64_MAX);
int64Number(INT64_MIN);

console.log(' ===== test int64 string =====');
int64String(JS_MAX);
int64String(INT64_MAX);
int64String(INT64_MIN);
int64String('92233720368477584');
int64String('-92233720368577583');
int64String('1.234e18');
function int64Number(inputNum){
    var os  = new TafStream.JceOutputStream();
    console.log(`input type:${typeof inputNum},input value:${inputNum}`);
    os.writeInt64(0,inputNum);
    os.getBinBuffer().print();

    var is  = new TafStream.JceInputStream(os.getBinBuffer());
    var outputNum = is.readInt64(0, true, 0);
    console.log(`output type:${typeof outputNum},output value:${outputNum}\n`);
}

function int64String(inputNum){
    var os  = new TafStream.JceOutputStream();
    console.log(`input type:${typeof inputNum},input value:${inputNum}`);
    os.writeInt64(0,inputNum, true);
    os.getBinBuffer().print();

    var is  = new TafStream.JceInputStream(os.getBinBuffer());
    var outputNum = is.readInt64(0, true, 0, true);
    console.log(`output type:${typeof outputNum},output value:${outputNum}\n`);
}
