#include "Ext.jce"

module Test
{
    struct StatMicMsgHead
    {
          0 require string masterName;       //主调模块name
          1 require string slaveName;        //被调模块name
          2 require string interfaceName;    //被调模块接口name
          3 require string masterIp;         //主调ip
          4 require string slaveIp;          //被调ip
          5 require int slavePort;           //被调端口
          6 require int returnValue;         //返回值   
          7 optional string slaveSetName;    //被调set名
          8 optional string slaveSetArea;    //被调set地区名   
          9 optional string slaveSetID;      //被调set组名
          10 optional string version;     //主调taf版本
    };

    key[StatMicMsgHead, masterName, slaveName,interfaceName,masterIp,slaveIp,slavePort,returnValue, slaveSetName, slaveSetArea, slaveSetID, version ];

    struct StatMicMsgBody
    {
          0 require int count;                  //成功调用量
          1 require int timeoutCount;           //超时调用量
          2 require int execCount;              //异常调用量
          3 require map<int,int> intervalCount; //时间间隔内调用量
          4 require long totalRspTime;          //调用总时间用来计算平均时间
          5 require int maxRspTime;             //最大响应时间
          6 require int minRspTime;             //最小响应时间
          7 optional Ext::ExtInfo extInfo;
          8 optional int weightValue;			//权重值
          9 optional int weightCount;			//权重值的累积次数
    };
}; 
